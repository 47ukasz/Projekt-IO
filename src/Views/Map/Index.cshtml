@{
    ViewData["Title"] = "Mapa zgłoszeń";
}

@section Styles {
    <link rel="stylesheet" href="~/css/main.css" />
    <link rel="stylesheet" href="~/css/home.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="~/css/map.css" />
}

@section Scripts {
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>

    <script>
        const initialPoints = @Html.Raw(ViewBag.MapPointsJson ?? "[]");
    </script>
    
    <script src="~/js/main-map.js" defer></script>
}

<section class="map-section">
    <button class="map-btn">
        <i class="fa-solid fa-sliders" style="color: #78c841"></i>
        <span>Filtruj mapę</span>
        <i class="fa-solid fa-chevron-down"></i>
    </button>
    <div class="map-filter">
        <form>
            <div class="map-filter-box">
                <label>Lokalizacja</label>
                <div class="map-input-box">
                    <span><i class="fa-solid fa-location-arrow"></i></span>
                    <input type="text" placeholder="np. Kraków" />
                </div>
            </div>

            <div class="map-filter-box">
                <label>Rodzaj wpisu</label>
                <div class="segmented">
                    <div class="segmented-box">
                        <input
                            id="reports"
                            type="radio"
                            name="segmented"
                            value="reports"
                            checked
                        />
                        <label for="reports">Zgłoszenia</label>
                    </div>

                    <div class="segmented-box">
                        <input
                            id="sights"
                            type="radio"
                            name="segmented"
                            value="sights"
                        />
                        <label for="sights">Doniesienia</label>
                    </div>
                </div>
            </div>

            <div class="map-filter-box-flex">
                <div class="map-filter-box">
                    <label>Status</label>
                    <select>
                        <option>Wszystkie</option>
                        <option>Zaginiony</option>
                        <option>Odnaleziony</option>
                    </select>
                </div>

                <div class="map-filter-box">
                    <label>Gatunek</label>
                    <select>
                        <option>Wszystkie</option>
                        <option>Pies</option>
                        <option>Kot</option>
                        <option>Inne</option>
                    </select>
                </div>
            </div>

            <div class="map-filter-buttons">
                <button type="reset">Wyczyść filtry</button>
                <button type="submit">Zastosuj</button>
            </div>
        </form>
    </div>
    <div id="map" class="map"></div>
</section>
