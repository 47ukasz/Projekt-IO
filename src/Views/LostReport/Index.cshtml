@{
    Layout = null;
    ViewData["Title"] = "Mapa zgłoszeń";
}

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

<div id="map" style="height: 80vh; width: 100%;"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
    // Inicjalizacja mapy
    const map = L.map('map').setView([52.2297, 21.0122], 12);

    // Warstwa OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // FEJKOWE DANE (jak z backendu)
    const reports = [
        {
            id: 1,
            title: "Zaginął pies",
            description: "Czarny labrador, obroża",
            lat: 52.2297,
            lng: 21.0122
        },
        {
            id: 2,
            title: "Zaginął kot",
            description: "Biało-rudy, długi ogon",
            lat: 52.235,
            lng: 21.005
        },
        {
            id: 3,
            title: "Zauważony pies",
            description: "Mały kundelek przy parku",
            lat: 52.22,
            lng: 21.02
        }
    ];

    // Dodawanie markerów
    reports.forEach(r => {
        L.marker([r.lat, r.lng])
            .addTo(map)
            .bindPopup(`
                <strong>${r.title}</strong><br/>
                ${r.description}
            `);
    });
</script>